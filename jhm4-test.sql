CREATE DATABASE jhm4_test;
USE jhm4_test;
CREATE TABLE STUDENT (
    SID VARCHAR(10) PRIMARY KEY,
    SNAME VARCHAR(50) NOT NULL,
    SEX CHAR(1),
    DOB DATE,
    CLASS VARCHAR(10)
);

CREATE TABLE COURSE (
    CID VARCHAR(10) PRIMARY KEY,
    CNAME VARCHAR(50) NOT NULL,
    CREDIT INT
);

INSERT INTO STUDENT (SID, SNAME, SEX, DOB, CLASS) VALUES
('S001', '陳大文', 'M', '2006-02-15', '4A'),
('S002', '李小明', 'M', '2005-11-23', '4B'),
('S003', '王美麗', 'F', '2006-05-30', '4A');

INSERT INTO COURSE (CID, CNAME, CREDIT) VALUES
('C001', '中國語文', '4'),
('C002', '數學', '4'),
('C003', '通識教育', '3');

DELETE FROM STUDENT WHERE 'SID' = 'S001';

CREATE TABLE ENROLLMENT (
    SID VARCHAR(10),
    CID VARCHAR(10),
    TERM VARCHAR(50),
    GRADE INT,
    PRIMARY KEY (SID, CID, TERM),
    FOREIGN KEY(SID) REFERENCES STUDENT(SID),
    FOREIGN KEY(CID) REFERENCES COURSE(CID)
);

INSERT INTO ENROLLMENT (SID, CID, TERM, GRADE) VALUES
('S001', 'C001', '2023-24-1', '85'),
('S001', 'C002', '2023-24-1', '92'),
('S002', 'C001', '2023-24-1', '78'),
('S003', 'C002', '2023-24-1', '95');

ALTER TABLE STUDENT MODIFY SNAME VARCHAR(50) NOT NULL;

ALTER TABLE COURSE MODIFY CNAME VARCHAR(50) NOT NULL;
